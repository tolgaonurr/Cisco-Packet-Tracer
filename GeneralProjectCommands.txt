Router15

enable
configure terminal
interface GigabitEthernet0/2/0
ip address 18.18.18.2 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/3/0
ip address 17.17.17.2 255.255.255.252
no shutdown
exit
router bgp 300
neighbor 18.18.18.1 remote-as 200
neighbor 17.17.17.1 remote-as 100
network 18.18.18.0 mask 255.255.255.252
network 17.17.17.0 mask 255.255.255.252
do write
end

Router14

enable
configure terminal
interface GigabitEthernet0/1/0
ip address 16.16.16.2 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/2/0
ip address 18.18.18.1 255.255.255.252
no shutdown
exit
router bgp 200
neighbor 16.16.16.1 remote-as 100
neighbor 18.18.18.2 remote-as 300
network 16.16.16.0 mask 255.255.255.252
network 18.18.18.0 mask 255.255.255.252
do write
end

Router13

enable
configure terminal
interface GigabitEthernet0/0/0
ip address 15.15.15.2 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/1/0
ip address 16.16.16.1 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/3/0
ip address 17.17.17.1 255.255.255.252
no shutdown
exit
router bgp 100
neighbor 16.16.16.2 remote-as 200
neighbor 17.17.17.2 remote-as 300
neighbor 15.15.15.1 remote-as 90
network 15.15.15.0 mask 255.255.255.252
network 16.16.16.0 mask 255.255.255.252
network 17.17.17.0 mask 255.255.255.252
do write
end

Router12

enable
configure terminal
interface GigabitEthernet0/0/0
ip address 15.15.15.1 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/1/0
ip address 14.14.14.2 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/3/0
ip address 12.12.12.2 255.255.255.252
no shutdown
exit
router eigrp 10
redistribute bgp 90 metric 100 1 255 1 1500
network 12.12.12.0 0.0.0.3
network 14.14.14.0 0.0.0.3
exit
router bgp 90
neighbor 15.15.15.2 remote-as 100
network 15.15.15.0 mask 255.255.255.252
redistribute eigrp 10
redistribute static
redistribute connected
do write
end

Router11

enable
configure terminal
interface GigabitEthernet0/0/0
ip address 13.13.13.2 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/1/0
ip address 14.14.14.1 255.255.255.252
no shutdown
exit
router eigrp 10
network 13.13.13.0 0.0.0.3
netowrk 14.14.14.0 0.0.0.3
do write
end

Router10

enable
configure terminal
interface GigabitEthernet0/0/0
ip address 13.13.13.1 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/2/0
ip address 11.11.11.2 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/3/0
ip address 12.12.12.1 255.255.255.252
no shutdown
exit
router eigrp 10
redistribute ospf 10 metric 100000 1 255 255 1500
network 12.12.12.0 0.0.0.3
network 13.13.13.0 0.0.0.3
exit
router ospf 10
redistribute eigrp 10 metric 1 subnets
network 11.11.11.0 0.0.0.3 area 20
do write
end

Router8

enable
configure terminal
interface GigabitEthernet0/0/0
ip address 10.10.10.2 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/2/0
ip address 11.11.11.1 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/3/0
ip address 9.9.9.2 255.255.255.252
no shutdown
exit
router ospf 10
network 10.10.10.0 0.0.0.3 area 20
network 9.9.9.0 0.0.0.3 area 20
network 11.11.11.0 0.0.0.3 area 20
do write
end

Router9

enable
configure terminal
interface GigabitEtherner0/0/0
ip address 10.10.10.1 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/2/0
ip address 8.8.8.2 255.255.255.252
no shutdown
exit
router ospf 10
network 8.8.8.0 0.0.0.3 area 20
network 10.10.10.0 0.0.0.3 area 20
do write
end

Router6

enable
configure terminal
interface loopback10
ip address 192.168.5.1 255.255.255.0
exit
interface GigabitEthernet0/0/0
ip address 6.6.6.2 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/1/0
ip address 7.7.7.2 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/2/0
ip address 8.8.8.1 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/3/0
ip address 9.9.9.1 255.255.255.252
no shutdown
exit
router ospf 20
network 9.9.9.0 0.0.0.3 area 20
network 8.8.8.0 0.0.0.3 area 20
network 192.168.5.0 0.0.0.255 area 0
network 6.6.6.0 0.0.0.3 area 10
network 7.7.7.0 0.0.0.3 area 10
do write
end

Router7

enable
configure terminal
interface GigabitEthernet0/1/0
ip address 7.7.7.1 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/3/0
ip address 5.5.5.2 255.255.255.252
no shutdown
exit
router ospf 20
network 5.5.5.0 0.0.0.3 area 10
network 7.7.7.0 0.0.0.3 area 10
do write
end

Router5

enable
configure terminal
interface GigabitEthernet0/0/0
ip address 6.6.6.1 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/2/0
ip address 4.4.4.2 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/3/0
ip address 5.5.5.1 255.255.255.252
no shutdown
exit
router ospf 20
network 4.4.4.0 0.0.0.3 area 10
network 5.5.5.0 0.0.0.3 area 10
network 6.6.6.0 0.0.0.3 area 10
do write
end

Router2

enable
configure terminal
interface GigabitEthernet0/0/0
ip address 2.2.2.2 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/1/0
ip address 3.3.3.2 255.255.255.0
no shutdown
exit
interface GigabitEthernet0/2/0
ip address 4.4.4.1 255.255.255.252
no shutdown
exit
router ospf 20
network 4.4.4.0 0.0.0.3 area 10
network 2.2.2.0 0.0.0.3 area 10
default-information originate
exit
ip route 0.0.0.0 0.0.0.0 3.3.3.1
do write
end

Router16

interface FastEthernet0/0
ip address 10.0.0.1 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/0/0
ip address 2.2.2.1 255.255.255.252
no shutdown
exit
interface GigabitEthernet0/2/0
ip address 1.1.1.1 255.255.255.252
no shutdown
exit
router ospf 20
redistribute static subnets
network 2.2.2.0 0.0.0.3 area 10
default-information originate
exit
ip route 10.10.10.0 255.255.255.0 10.0.0.2 
ip route 10.10.20.0 255.255.255.0 10.0.0.2 
ip route 10.10.30.0 255.255.255.0 10.0.0.2 
ip route 192.168.2.0 255.255.255.0 10.0.0.2 
ip route 10.10.200.0 255.255.255.0 1.1.1.2 
ip route 10.10.210.0 255.255.255.0 1.1.1.2 
ip route 10.10.40.0 255.255.255.0 1.1.1.2 
ip route 10.10.50.0 255.255.255.0 1.1.1.2 
ip route 192.168.3.0 255.255.255.0 10.0.0.2 
ip route 0.0.0.0 0.0.0.0 2.2.2.2 
dial-peer voice 2000 voip
destination-pattern 2000
session target ipv4:1.1.1.2
eixt
dial-peer voice 2001 voip
destination-pattern 2001
session target ipv4:1.1.1.2
exit
telephony-service
max-ephones 30
max-dn 30
ip source-address 192.168.2.10 port 2000
auto assign 1 to 30
exit
ephone-dn 1
number 1000
exit
ephone-dn 2
number 1001
exit
ephone-dn 3
number 3
exit
ephone 1
mac-address 0030.F2E2.B616
type 7960
button 1:1
exit
ephone 2
mac-address 00D0.97E9.126A
type 7960
button 1:1
exit
ephone 3
mac-address 0001.975A.DC30
type 7960
button 1:1
do write
end

Multilayer Switch2

enable
configure terminal
vlan 2
vlan 3
vlan 10
vlan 20
vlan 30
vlan 40
vlan 50
interface FastEthernet0/1
switchport trunk allowed vlan 2
switchport trunk encapsulation dot1q
switchport mode trunk
no shutdown
exit
interface FastEthernet0/2
switchport trunk allowed vlan 3,10,20
switchport trunk encapsulation dot1q
switchport mode trunk
no shutdown
exit
interface FastEthernet0/3
switchport trunk allowed vlan 3,30
switchport trunk encapsulation dot1q
switchport mode trunk
no shutdown
exit
interface FastEthernet0/4
switchport trunk encapsulation dot1q
switchport mode trunk
no shutdown
exit
interface GigabitEthernet0/1
no switchport
ip address 10.0.0.2 255.255.255.252
no shutdown
exit
interface Vlan2
ip address 192.168.2.1 255.255.255.0
exit
interface Vlan3
ip address 192.168.3.1 255.255.255.0
ip helper-address 192.168.2.10
exit
interface Vlan4
ip address 192.168.4.1 255.255.255.0
exit
interface Vlan10
ip address 10.10.10.1 255.255.255.0
ip helper-address 192.168.2.10
exit
interface Vlan20
ip address 10.10.20.1 255.255.255.0
ip helper-address 192.168.2.10
exit
interface Vlan30
ip address 10.10.30.1 255.255.255.0
ip helper-address 192.168.2.10
exit
ip default-gateway 192.168.4.1
ip route 0.0.0.0 0.0.0.0 10.0.0.1
do write
end

Switch2

enable
configure terminal
interface range FastEthernet0/1-24
switchport mode access
switchport access vlan 2
no shutdown
exit
interface GigabitEthernet0/1
switchport mode trunk
do write
end

Switch3

enable
configure terminal
interface range FastEthernet0/1-12
switchport mode access
switchport access vlan 10
switchport voice vlan 3
exit
interface range FastEthernet0/13-24
switchport mode access
switchport access vlan 20
switchport voice vlan 3
exit
interface GigabitEthernet0/1
switchport mode trunk
do write
end

Switch4

enable
configure terminal
interface range FastEthernet0/1-24
switchport mode access
switchport access vlan 30
switchport voice vlan 3
exit
interface GigabitEthernet0/1
switchport mode trunk
do write
end

Router17

enable
configure terminal
interface FastEthernet0/0
no shutdown
exit
interface FastEthernet0/0.40
encapsulation dot1q 40
ip address 10.10.40.1 255.255.255.0
ip helper-address 192.168.2.10
exit
interface FastEthernet0/0.50
encapsulation dot1q 50
ip address 10.10.50.1 255.255.255.0
exit
interface FastEthernet0/0.200
encapsulation dot1q 200
ip address 10.10.200.1 255.255.255.0
ip helper-address 192.168.2.10
exit
interface FastEthernet0/0.210
encapsulation dot1q 210
ip address 10.10.210.1 255.255.255.0
ip helper-address 192.168.2.10
exit
interface GigabitEthernet0/2/0
ip address 1.1.1.2 255.255.255.252
no shutdown
exit
ip route 0.0.0.0 0.0.0.0 1.1.1.1
dial-peer voice 1000 voip
destination-pattern 1000
session target ipv4:1.1.1.1
exit
dial-peer voice 1001 voip
destination-pattern 1001
session target ipv4:1.1.1.1
exit
dial-peer voice 1002 voip
destination-pattern 1002
session target ipv4:1.1.1.1
exit
telephony-service
max-ephones 30
max-dn 30
ip source-address 192.168.2.10 port 2000
auto assign 1 to 30
exit
ephone-dn 1
number 2000
exit
ephone-dn 2
number 2001
exit
ephone 1
mac-address 0060.3EEE.DCD8
type 7960
button 1:1
exit
ephone 2
mac-address 00E0.8F22.49C9
type 7960
button 1:2
do write
end

Switch5

enable
configure terminal
interface range FastEthernet0/1-12
switchport mode access
switchport access vlan 40
switchport voice vlan 200
no shutdown
exit
interface range FastEthernet0/13-24
switchport mode access
switchport access vlan 50
switchport voice vlan 210
no shutdown
exit
interface GigabitEthernet0/1
switchport mode trunk
no shutdown
do write
end

Router1

enable
configure terminal
interface Port-channel1
ip address 192.168.1.3 255.255.255.0
standby 1 ip 192.168.1.1
standby 1 timers 3 5
exit
interface GigabitEthernet0/0
no shutdown
exit
interface GigabitEthernet0/1
no shutdown
exit
interface GigabitEthernet0/0/0
ip address 3.3.3.1 255.255.255.252
no shutdown
exit
ip route 0.0.0.0 0.0.0.0 3.3.3.2
do write
end

Router0

enable
configure terminal
interface Port-channel1
ip address 192.168.1.2 255.255.255.0
standby 1 ip 192.168.1.1
standby 1 priority 120
standby 1 preempt
standby 1 timers 3 5
exit
interface GigabitEthernet0/0
no shutdown
exit
interface GigabitEthernet0/1
no shutdown
do write
end

Multilayer Switch0

enable
configure terminal
interface Port-channel1
switchport trunk encapsulation dot1q
switchport mode trunk
exit
interface FastEthernet0/1
switchport trunk encapsulation dot1q
swtichport mode trunk
channel-group 1 mode active
no shutdown
exit
interface FastEthernet0/2
switchport trunk encapsulation dot1q
switchport mode trunk
channel-group 1 mode active
no shutdown
exit
interface FastEthernet0/3
switchport trunk encapsulation dot1q
switchport mode trunk
channel-group 1 mode active
no shutdown
do write
end

Multilayer Switch1

enable
configure terminal
interface Port-channel1
switchport trunk encapsulation dot1q
switchport mode trunk
exit
interface FastEthernet0/1
switchport trunk encapsulation dot1q
switchport mode trunk
channel-group 1 mode passive
no shutdown
exit
interface FastEthernet0/2
switchport trunk encapsulation dot1q
switchport mode trunk
channel-group 1 mode passive
no shutdown
exit
interface FastEthernet0/3
switchport trunk encapsulation dot1q
switchport mode trunk
channel-group 1 mode passive
no shutdown
do write
end

